<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>milestone | CS 184 Final Project</title>
    <meta name="author" content="  ">
    <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">

    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%91%BB&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://cs184-spooky-boo.github.io//milestone">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

    <!-- for mathjax support -->
    
  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://cs184-spooky-boo.github.io//">CS 184 Final Project</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <li class="nav-item ">
                <a class="nav-link" href="/">proposal</a>
              </li>

              <li class="nav-item ">
                <a class="nav-link" href="/milestone">milestone</a>
              </li>

              <li class="nav-item ">
                <a class="nav-link" href="/writeup">writeup</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <div class="page">
  <h1 id="milestone">Milestone</h1>
<p><img src="../assets/img/proposal/ghost.png" alt="ghost" style="display:block; margin-left: auto; margin-right: auto; width:50%;"></p>

<h2 id="important-links">Important Links</h2>

<ul>
  <li><a href="https://docs.google.com/presentation/d/1-0b0kxSXW2xQeXWxNEVVtFc78-RBjcDXZzXNmsWsY2E/edit?usp=sharing" rel="external nofollow noopener" target="_blank">Slides</a></li>
  <li><a href="https://drive.google.com/file/d/1dMEocXvS5zHEgg23FenEAaJRBPdBo_4F/view?usp=sharing" rel="external nofollow noopener" target="_blank">Recording</a></li>
</ul>

<p><br></p>

<h2 id="accomplishments">Accomplishments</h2>
<p>For our project, we first worked on incorporating wind simulation to our existing cloth simulator from Homework 4 because this would be an essential component towards making our scene more realistic, factoring in the physical dynamic effects on objects.</p>

<p>Additionally, we manipulated the shader (starting point was using the Blinn Phong shader) for the ghost cloth to have it appear more transparent/translucent.</p>

<p>Lastly, we learned how to use Autodesk Maya to model several of the objects that we will have in our scene, such as the pumpkin, table, chair, etc.</p>

<p><br></p>

<h2 id="preliminary-results">Preliminary Results</h2>
<h4 id="wind">Wind</h4>
<p>We first added wind simulation by modifying <code class="language-plaintext highlighter-rouge">Cloth::simulate</code> in <code class="language-plaintext highlighter-rouge">cloth.cpp</code>. The idea is to add wind to <code class="language-plaintext highlighter-rouge">external_accelerations</code>, similar to adding the impact of gravity. Wind is defined as a force that acts on the cloth.</p>

<p>In the loop where the point mass positions are updated at each time step, we use the following formula below to calculate wind force which is then added to <code class="language-plaintext highlighter-rouge">pointMass.forces</code>.</p>

\[F_{\text{wind}}(i,j) = C_{\text{wind}} [n_{i,j} \cdot (v_{\text{wind}} - v_{i,j})] n_{i,j}\]

<ul>
  <li>\(F_{\text{wind}}(i,j)\): Force of wind at position \({(i,j)}\)</li>
  <li>\(C_{\text{wind}}\): Constant that changes overall wind force</li>
  <li>\(n_{i,j}\): Normal with <code class="language-plaintext highlighter-rouge">pointMass.normal()</code>
</li>
  <li>\(v_{\text{wind}}\): Velocity of the wind</li>
  <li>\(v_{i,j}\): Velocity of the object at position \({(i,j)}\)</li>
</ul>

<p><img src="/assets/img/milestone/wind.gif" alt="wind" style="display:block; margin-left: auto; margin-right: auto; width:50%;"></p>

<h4 id="ghost-cloth">Ghost Cloth</h4>
<ul>
  <li>Blinn Phong Shader
    <ul>
      <li>Coefficient changes:
        <ul>
          <li>Diffuse: No change (wanted to keep the white color)</li>
          <li>Ambient: Changed to <code class="language-plaintext highlighter-rouge">0</code> so that the base color is black</li>
          <li>Specular: Increased it</li>
        </ul>
      </li>
      <li>Increase density in GUI to <code class="language-plaintext highlighter-rouge">30 g/m^2</code> to make it slightly heavier</li>
      <li>Decrease <code class="language-plaintext highlighter-rouge">k_s</code> to <code class="language-plaintext highlighter-rouge">500 N/m</code> for a tighter spring:</li>
    </ul>
  </li>
  <li>Bump mapping: Downloaded a pic of a bed sheet to mimic the nature of a thin sheet without having to render each fiber</li>
  <li>Extra parameters
    <ul>
      <li>Used this <a href="https://manual.keyshot.com/manual/materials/material-types/advanced-material/" rel="external nofollow noopener" target="_blank">article</a> to learn about different material types and as a baseline of what to have the different values equal to
        <ul>
          <li>Sheen: Color of our reflection
            <ul>
              <li>Set to lighter shade of white to appear brighter</li>
            </ul>
          </li>
          <li>Roughness: Set high since we wanted light to be evenly spread</li>
          <li>Backscatter: Light scattered throughout the entire object
            <ul>
              <li>Provides soft effect</li>
            </ul>
          </li>
          <li>Edginess: How far the sheen spreads across the surface
            <ul>
              <li>Set it high to show brighter borders on surface edges (drastic fade)</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Changed the length of the cloth to be longer and resemble the shape of a ghost</li>
  <li>Fog/smoke
    <ul>
      <li>Attempted adding near the ghost’s cloth to create a more ethereal visual by modifying <code class="language-plaintext highlighter-rouge">Custom.frag</code> based on this <a href="https://vicrucann.github.io/tutorials/osg-shader-fog/" rel="external nofollow noopener" target="_blank">article</a> — this was not successful</li>
    </ul>
  </li>
</ul>

<h4 id="modeling-additional-objects-in-scene">Modeling Additional Objects in Scene</h4>
<ul>
  <li>Modeled pumpkin, table, chair, candle, teddy bear, cello, fox, and a toilet in Autodesk Maya</li>
  <li>Need to import models and update codebase so it integrates with the sphere and cloth collision (ghost)</li>
</ul>

<h4 id="adding-textures">Adding Textures</h4>
<ul>
  <li>Started working on the flickering flame, which will be the shader used on the candle’s flame in the scene</li>
  <li>Took inspiration from Shadertoy</li>
</ul>

<p><br></p>

<h2 id="reflection">Reflection</h2>
<p>Overall, we thought that our ghost cloth appearance is realistic and that the wind effect works well, but there’s a couple of issues with our “ghost” model and signficant details that we’d like to incorporate later on.</p>

<p>Incorporating wind was challenging and fog was especially difficult as well. There are a couple of ideas we have surrounding fog but we’re not really sure the best way to approach them.</p>

<p>For modeling, we had to consider how the shader would be overlaid onto the model which made the overall appearance of the pumpkin less detailed than we wanted to, however this is subject to change.</p>

<p>Our biggest hurdle is figuring out how to integrate our models with our current “ghost” collision (consists of a sphere and plane). We recognized that these two objects were able to be in the same scene because they are different <code class="language-plaintext highlighter-rouge">.json</code> files under <code class="language-plaintext highlighter-rouge">/scene</code> but this is tricky to implement with the models we created on Autodesk Maya since they will be converted to <code class="language-plaintext highlighter-rouge">.dae</code> files. We will be going to office hours to get help on this :’).</p>

<p><br></p>

<h2 id="next-steps">Next Steps</h2>
<p>We are a tiny bit behind schedule for our initial timeline since there were some obstacles that left us stumped for a longer duration than intended.</p>

<p>Below are the items we intend on completing:</p>
<ul>
  <li>Generate fog/smoke surrounding the ghost’s cloth</li>
  <li>Add ghost face to the cloth</li>
  <li>Integrate all objects into one scene (import models and update existing codebase)</li>
  <li>Refine textures and shaders within all objects
    <ul>
      <li>Ex: Wax dripping, flickering candle light casting shadows to the surrounding objects</li>
    </ul>
  </li>
</ul>

<p>Stretch Goals:</p>
<ul>
  <li>User interaction with scene (ex: functionality to move the ghost)</li>
</ul>

</div>
    </div>

    <!-- Footer -->
<footer class="fixed-bottom">
  <div class="container mt-0">
    © Copyright 2024.    Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

  </div>
</footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <!-- Bootsrap & MDB scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>
    <!-- Masonry & imagesLoaded -->
<script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>
    
    <!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>
  </body>
</html>
